---
// AllServicesGrid.astro - Bottom grid showing all treatments

interface Props {
  currentPage: string;
}

const { currentPage } = Astro.props;

// All treatment pages data (flattened structure)
const treatments = [
  { name: "Dry Needling", slug: "dry-needling", description: "Release muscle knots & trigger points" },
  { name: "Myofascial Cupping", slug: "myofascial-cupping", description: "Release fascial restrictions" },
  { name: "Deep Tissue/Sports Massage", slug: "deep-tissue-sports-massage", description: "Therapeutic massage for recovery" },
  { name: "IASTM / Graston Technique", slug: "instrument-assisted-tissue-mobilization", description: "Break down scar tissue" },
  { name: "Pregnancy Physical Therapy", slug: "pregnancy-physical-therapy", description: "Expert care for expecting mothers" },
  { name: "Scoliosis Treatment", slug: "scoliosis", description: "Specialized spinal care" },
  { name: "Functional Patterns", slug: "functional-patterns", description: "Movement training & optimization" },
  { name: "Posture Correction", slug: "posture-correction", description: "Improve alignment & function" },
  { name: "Therapy for Singers", slug: "therapy-for-singers", description: "Vocal performance optimization" },
  { name: "Pancafit", slug: "pancafit", description: "Postural correction therapy" },
  { name: "Scar Tissue Mobilization", slug: "scar-tissue-mobilization", description: "Release adhesions & restrictions" },
  { name: "Neural Tension Release", slug: "neural-tension-release", description: "Free restricted nerves" },
  { name: "Diaphragmatic Rehabilitation", slug: "diaphragmatic-rehabilitation", description: "Restore proper breathing" },
];

const filteredTreatments = treatments.filter(item => item.slug !== currentPage);
---

<section class="all-services-grid">
  <div class="container-narrow">
    <h2 class="grid-title">Explore Our Treatments</h2>
    
    <div class="services-grid">
      {filteredTreatments.map((item) => (
        <a href={`/services/${item.slug}`} class="service-card">
          <h3>{item.name}</h3>
          <p>{item.description} â†’</p>
        </a>
      ))}
    </div>
    
    <div class="grid-cta">
      <a href="/schedule" class="cta-button">Schedule Your Appointment</a>
    </div>
  </div>
</section>

<style>
  .all-services-grid {
    background: var(--color-background-light, #f9fafb);
    padding: 4rem 2rem;
    position: relative;
    z-index: 1;
  }

  .container-narrow {
    max-width: 1000px;
    margin: 0 auto;
  }

  .back-navigation {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .back-link {
    color: var(--color-accent, #3db89f);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.95rem;
    transition: color 0.2s;
  }

  .back-link:hover {
    color: var(--color-primary, #2d6d5f);
  }

  .grid-title {
    text-align: center;
    color: var(--color-primary, #2d6d5f);
    margin-bottom: 2rem;
    font-size: 1.75rem;
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
  }

  .service-card {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    text-decoration: none;
    border: 1px solid rgba(0, 0, 0, 0.08);
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }

  .service-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    border-color: var(--color-accent, #3db89f);
  }

  .service-card h3 {
    color: var(--color-primary, #2d6d5f);
    margin: 0 0 0.5rem;
    font-size: 1.1rem;
  }

  .service-card p {
    color: var(--color-accent, #3db89f);
    margin: 0;
    font-size: 0.9rem;
    font-weight: 500;
  }

  .grid-cta {
    text-align: center;
    margin-top: 2.5rem;
  }

  .cta-button {
    display: inline-block;
    background: var(--color-accent, #3db89f);
    color: white;
    padding: 14px 32px;
    text-decoration: none;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .cta-button:hover {
    background: var(--color-accent-hover, #2ea88a);
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .all-services-grid {
      padding: 3rem 1.5rem;
    }

    .back-navigation {
      flex-direction: column;
      gap: 0.75rem;
    }

    .services-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
